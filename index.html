<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Advance Birthday â€” For Mom</title>
<style>
  :root{
    --bg:#f0f8f2; --card:#ffffff; --accent:#3a9a57; --muted:#6b8f77;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;color:#08331f;background:linear-gradient(180deg,var(--bg),#e6f2ea);display:flex;align-items:center;justify-content:center;height:100vh;padding:20px}
  .card{width:100%;max-width:860px;background:var(--card);border-radius:16px;padding:22px;box-shadow:0 10px 30px rgba(6,30,18,0.08)}
  header{display:flex;align-items:center;gap:14px}
  .badge{width:64px;height:64px;border-radius:10px;background:linear-gradient(180deg,#dff6e6,#bff0c8);display:flex;align-items:center;justify-content:center;font-size:30px}
  h1{margin:0;font-size:22px}
  p.lead{margin:6px 0 12px;color:var(--muted)}
  .stage{display:grid;grid-template-columns:1fr 320px;gap:18px;align-items:start}
  .garden{background:linear-gradient(180deg,#e8f7ee,#dff3e8);border-radius:12px;padding:18px;min-height:300px;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative}
  .soil{width:220px;height:64px;border-radius:12px;background:#7a5b3a;margin-top:18px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
  .controls{display:flex;flex-direction:column;gap:10px}
  button{background:var(--accent);color:#fff;border:0;padding:10px 12px;border-radius:10px;font-weight:700;cursor:pointer}
  .water-count{font-weight:800;color:var(--muted)}
  .plant {width:160px;height:200px;transition:transform .6s ease,opacity .4s ease;transform-origin:50% 100%}
  .hidden{opacity:0.02}
  .riddle{background:#f7fff7;border-radius:8px;padding:12px;border:1px dashed #cbe9cf;color:#064022}
  .note{font-size:13px;color:var(--muted)}
  .wish{margin-top:12px;padding:12px;border-radius:8px;background:linear-gradient(180deg,#fff,#f7fff7);border:1px solid #e0efe0}
  footer{margin-top:14px;text-align:right;color:var(--muted);font-size:13px}
  /* confetti pieces */
  .confetti{position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;overflow:hidden}
  .confetti i{position:absolute;display:block;width:10px;height:14px;opacity:0;transform:translateY(-20px) rotate(0deg);animation:fall 1400ms linear forwards}
  @keyframes fall{
    to{opacity:1;transform:translateY(420px) rotate(520deg)}
  }
  @media (max-width:820px){ .stage{grid-template-columns:1fr} .garden{min-height:260px} }
</style>
</head>
<body>
  <div class="card" role="main">
    <header>
      <div class="badge" aria-hidden>ðŸŒ¿</div>
      <div>
        <h1>Advance Birthday Adventure â€” <span style="color:var(--accent)">Happy Birthday, Mom!</span></h1>
        <p class="lead">A tiny interactive garden for a botanist who loves plants. Water, solve, and reveal your advance wish.</p>
      </div>
    </header>

    <div class="stage" style="margin-top:14px">
      <div class="garden" id="garden" aria-live="polite">
        <!-- SVG plant (stages controlled via JS) -->
        <svg viewBox="0 0 200 260" class="plant" id="plantSvg" aria-hidden>
          <g id="stage0" style="opacity:0">
            <!-- tiny seed -->
            <ellipse cx="100" cy="220" rx="10" ry="6" fill="#704214"/>
          </g>

          <g id="stage1" style="opacity:0">
            <!-- sprout -->
            <ellipse cx="100" cy="200" rx="8" ry="5" fill="#5b3b25"/>
            <path d="M100 200 C98 180,88 160,78 150" stroke="#1f7a3f" stroke-width="6" stroke-linecap="round" fill="none"/>
            <path d="M100 190 C112 170,130 155,140 144" stroke="#1f7a3f" stroke-width="6" stroke-linecap="round" fill="none"/>
          </g>

          <g id="stage2" style="opacity:0">
            <!-- small plant -->
            <path d="M100 220 C98 180,94 150,90 140" stroke="#1d6b37" stroke-width="8" stroke-linecap="round" fill="none"/>
            <ellipse cx="90" cy="138" rx="18" ry="10" fill="#2d8b4b"/>
            <ellipse cx="118" cy="140" rx="14" ry="8" fill="#2d8b4b"/>
            <circle cx="100" cy="120" r="8" fill="#9fe3a6"/>
          </g>

          <g id="stage3" style="opacity:0">
            <!-- full plant -->
            <path d="M100 230 C98 190,96 150,94 130" stroke="#14532b" stroke-width="10" stroke-linecap="round" fill="none"/>
            <ellipse cx="80" cy="118" rx="32" ry="16" fill="#2f8f53"/>
            <ellipse cx="118" cy="110" rx="36" ry="18" fill="#2f8f53"/>
            <ellipse cx="100" cy="82" rx="46" ry="22" fill="#75c78a"/>
            <g transform="translate(52,40)">
              <text x="10" y="18" font-size="10" fill="#05331a">ðŸŒ¼</text>
            </g>
          </g>
        </svg>

        <div class="soil" id="soil">Soil bed â€” click Water to grow</div>

        <div class="confetti" id="confetti" aria-hidden></div>
      </div>

      <aside class="controls" aria-label="controls">
        <div class="riddle" id="riddleBox">
          <strong>Botanical Riddle</strong>
          <p class="note" id="riddleText">I travel by leaf and scent, bright petals announce my event. Name me to get the final surprise. (Hint: a flower)</p>
          <input id="answer" placeholder="Type your answer (one word)" style="padding:8px;border-radius:8px;border:1px solid #d6e9d1;font-weight:700" />
          <button id="submitAnswer">Submit Answer</button>
          <p class="note" id="riddleFeedback" style="display:none;margin-top:8px"></p>
        </div>

        <div style="background:#fff;border-radius:8px;padding:12px;border:1px solid #e6efe7">
          <div style="display:flex;gap:8px;align-items:center;justify-content:space-between">
            <div>
              <div class="note">Water actions</div>
              <div class="water-count" id="waterCount">0 / 6</div>
            </div>
            <div>
              <button id="waterBtn">ðŸ’§ Water</button>
            </div>
          </div>

          <div style="margin-top:10px">
            <button id="revealBtn" disabled>Reveal Advance Wish</button>
          </div>
        </div>

        <div class="wish" id="wishBox" aria-live="polite" style="display:none">
          <!-- wish revealed only after riddle correct and plant fully grown -->
        </div>
      </aside>
    </div>

    <footer> This was done by sadhana and sanjai </footer>
  </div>

<script>
  // state
  const maxWater = 6;
  let water = 0;
  let riddleSolved = false;
  const plantStages = [ 'stage0','stage1','stage2','stage3' ];

  const waterBtn = document.getElementById('waterBtn');
  const waterCountEl = document.getElementById('waterCount');
  const revealBtn = document.getElementById('revealBtn');
  const wishBox = document.getElementById('wishBox');
  const answerInput = document.getElementById('answer');
  const submitAnswer = document.getElementById('submitAnswer');
  const riddleFeedback = document.getElementById('riddleFeedback');

  function updatePlant() {
    const idx = Math.min(Math.floor(water / (maxWater / (plantStages.length - 1))), plantStages.length-1);
    plantStages.forEach((id,i)=>{
      document.getElementById(id).style.opacity = (i <= idx) ? '1' : '0';
      document.getElementById(id).style.transform = (i <= idx) ? 'translateY(0)' : 'translateY(8px)';
    });
    waterCountEl.textContent = water + ' / ' + maxWater;
    if (water >= maxWater && riddleSolved) {
      revealBtn.disabled = false;
    } else {
      revealBtn.disabled = true;
    }
    // small soil text change
    document.getElementById('soil').textContent = (water===0) ? 'Soil bed â€” click Water to grow' : (water < maxWater ? 'The plant is thirsty â€” give more water' : 'Plant looks grown â€” solve the riddle to finish');
  }

  waterBtn.addEventListener('click', ()=>{
    if (water >= maxWater) return;
    water++;
    // small bounce
    const svg = document.getElementById('plantSvg');
    svg.style.transform = 'scale(1.03)';
    setTimeout(()=> svg.style.transform = 'scale(1)',250);
    updatePlant();
  });

  // simple riddle: answer "rose" (but accept multiple common flowers)
  const validAnswers = ['rose','lily','jasmine','marigold','sunflower','tulip','orchid','lotus','hibiscus','daisy'];

  submitAnswer.addEventListener('click', ()=>{
    const ans = (answerInput.value || '').trim().toLowerCase();
    if (!ans) {
      riddleFeedback.style.display='block'; riddleFeedback.textContent='Please type an answer.';
      return;
    }
    if (validAnswers.includes(ans)) {
      riddleSolved = true;
      riddleFeedback.style.display='block'; riddleFeedback.style.color='green';
      riddleFeedback.textContent = 'Correct! Now finish growing the plant and reveal your advance wish.';
      answerInput.disabled = true; submitAnswer.disabled = true;
      if (water >= maxWater) revealBtn.disabled = false;
    } else {
      riddleFeedback.style.display='block'; riddleFeedback.style.color='#a33';
      riddleFeedback.textContent = 'Not quite â€” try another flower name!';
    }
  });

  // reveal: show wish and confetti
  revealBtn.addEventListener('click', ()=>{
    // ensure conditions
    if (!(water >= maxWater && riddleSolved)) return;
    wishBox.style.display = 'block';
    wishBox.innerHTML = `
      <h3 style="margin:0 0 8px 0;color:var(--accent)">Advance Happy Birthday, Mom!</h3>
      <p style="margin:0 0 8px 0;color:#064022">
        To our wonderful botanist who fills every room with green wisdom and gentle care â€” 
        may this year bring you new discoveries, thriving pots, and peaceful mornings among leaves.
      </p>
      <p style="margin:0;font-weight:800">With love,<br/>Sadhana and Sanjai</p>
    `;
    triggerConfetti();
    revealBtn.disabled = true;
  });

  // confetti generator
  function triggerConfetti(){
    const container = document.getElementById('confetti');
    container.innerHTML = '';
    const colors = ['#ffd166','#ef476f','#06d6a0','#118ab2','#073b4c'];
    for(let i=0;i<40;i++){
      const el = document.createElement('i');
      el.style.left = Math.random()*100 + '%';
      el.style.top = (-10 - Math.random()*50) + 'px';
      el.style.background = colors[Math.floor(Math.random()*colors.length)];
      el.style.transform = 'rotate(' + (Math.random()*360) + 'deg)';
      el.style.opacity = '0';
      el.style.animationDelay = (Math.random()*800) + 'ms';
      el.style.width = (6 + Math.random()*10) + 'px';
      el.style.height = (8 + Math.random()*12) + 'px';
      container.appendChild(el);
    }
    // small sound (if allowed)
    try {
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      const o = ctx.createOscillator();
      const g = ctx.createGain();
      o.type='sine'; o.frequency.value=880;
      g.gain.value=0.0001;
      o.connect(g); g.connect(ctx.destination); o.start();
      g.gain.exponentialRampToValueAtTime(0.2, ctx.currentTime + 0.01);
      g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.6);
      o.stop(ctx.currentTime + 0.7);
    } catch(e){ /* ignore if blocked */ }
  }

  // init
  updatePlant();
</script>
</body>
</html>
